<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.61">
<title data-react-helmet="true">Build Instructions | ISOBlue</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Build Instructions | ISOBlue"><meta data-react-helmet="true" name="description" content="Prerequisites"><meta data-react-helmet="true" property="og:description" content="Prerequisites"><meta data-react-helmet="true" property="og:url" content="https://isoblue.org/docs/sw/swbuild"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://isoblue.org/docs/sw/swbuild"><link rel="stylesheet" href="/styles.6af30466.css">
<link rel="preload" href="/styles.8c87156f.js" as="script">
<link rel="preload" href="/runtime~main.76e6e62e.js" as="script">
<link rel="preload" href="/main.cd3eda12.js" as="script">
<link rel="preload" href="/1.c1636144.js" as="script">
<link rel="preload" href="/2.15781dc9.js" as="script">
<link rel="preload" href="/3.f369f4cb.js" as="script">
<link rel="preload" href="/1be78505.c5340cf9.js" as="script">
<link rel="preload" href="/34.32e457ed.js" as="script">
<link rel="preload" href="/20ac7829.d91f3221.js" as="script">
<link rel="preload" href="/17896441.64a7a8d2.js" as="script">
<link rel="preload" href="/8ba70fbd.303dd515.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="isoblue-logo"><strong class="navbar__title">ISOBlue</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/OATS-Group/isoblue-avena" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><a href="https://groups.google.com/g/isoblue" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Google Group</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="isoblue-logo"><strong class="navbar__title">ISOBlue</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/blog/">Blog</a></li><li class="menu__list-item"><a href="https://github.com/OATS-Group/isoblue-avena" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a href="https://groups.google.com/g/isoblue" target="_blank" rel="noopener noreferrer" class="menu__link">Google Group</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Overview</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">What is an ISOBlue 2.0?</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Hardware</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/hw/bom">Hardware Bill of Materials</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/hw/hwbuild">Hardware Assembly</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Software</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/sw/swbuild">Build Instructions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sw/flashing">Flashing an Image</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sw/setup">Setting It Up</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Deploy</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/misc/deploy">Deployment</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Data</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/data/data">Public Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/data/read">How to Read Data</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Build Instructions</h1></header><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="prerequisites"></a>Prerequisites<a aria-hidden="true" tabindex="-1" class="hash-link" href="#prerequisites" title="Direct link to heading">#</a></h2><p>The building process for ISOBlue 2.0 is very customizable. If you do not have
similar experience, it is recommended that you read through some of the <a href="http://www.yoctoproject.org/docs/2.4.1/mega-manual/mega-manual.html" target="_blank" rel="noopener noreferrer">Yocto
project documentations</a> to get started. If you do not have much experience in
Linux, you can still download a <a href="https://drive.google.com/open?id=0B6AeE6Ne4z3aX0VFXzRVWGNSRjQ" target="_blank" rel="noopener noreferrer">prebuilt ISOBlue image</a> and follow the
<a href="/docs/sw/flashing">flashing instructions</a> to get yourself an ISOBlue.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="machine-requirement"></a>Machine Requirement<a aria-hidden="true" tabindex="-1" class="hash-link" href="#machine-requirement" title="Direct link to heading">#</a></h3><p>For building an ISOBlue image, a powerful, multi-core host machine is highly
recommended. There should be a minimum of 60GB of free disk place, 4GB of RAM
and a decent Internet connection. The build procedure is currently only tested
on Ubuntu 16.10.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="preparations"></a>Preparations<a aria-hidden="true" tabindex="-1" class="hash-link" href="#preparations" title="Direct link to heading">#</a></h3><p>ISOBlue&#x27;s image (which added a bunch of custom recipes on top of Toradex BSP)
build requires some additional packages, mainly 32-bit flashing utilities. You
need to do:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo dpkg --add-architecture i386</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt-get update</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt-get install g++-5-multilib</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt-get install curl dosfstools gawk g++-multilib gcc-multilib lib32z1-dev \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">libcrypto++9v5:i386 libcrypto++-dev:i386 liblzo2-dev:i386 lzop libsdl1.2-dev \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">libstdc++-5-dev:i386 libusb-1.0-0:i386 libusb-1.0-0-dev:i386 uuid-dev:i386 \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">texinfo chrpath</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">cd /usr/lib; sudo ln -s libcrypto++.so.9.0.0 libcryptopp.so.6</span></div></div></div></div></div><p>We would also need to install <a href="https://source.android.com/setup/using-repo" target="_blank" rel="noopener noreferrer">repo</a> for source synchronizations:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">sudo apt-get install repo</span></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="source-synchronization"></a>Source Synchronization<a aria-hidden="true" tabindex="-1" class="hash-link" href="#source-synchronization" title="Direct link to heading">#</a></h3><p>You need to simply do:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">mkdir isoblue-core</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">cd isoblue-core</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">repo init -u https://github.com/ISOBlue/isoblue-image -b v2.7</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">repo sync</span></div></div></div></div></div><p>After getting the ISOBlue image source, you can do:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">. export</span></div></div></div></div></div><p>After sourcing <code>export</code>, you will be put into the <code>build</code> directory with the
following items configured for the <strong>current</strong> session:</p><ul><li>bitbake executable</li><li>shell environment variables</li></ul><p>You will need to source <code>export</code> again to have the right configurations.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="editing-isoblueconf"></a>Editing isoblue.conf<a aria-hidden="true" tabindex="-1" class="hash-link" href="#editing-isoblueconf" title="Direct link to heading">#</a></h3><p>Before building the image, edit <code>isoblue.conf</code> under <code>top-level-directory</code>,
i.e., <code>isoblue-core</code> in our instruction:</p><p>The settings you need to change is the <code>ID</code> and <code>MACHINEID</code>.</p><ul><li>For <code>ID</code>, you can use any combination from 011 to 999 and this will be your
ISOBlue&#x27;s unique <code>ID</code> (000 to 010 are already taken). This is only a temporary
solution and will get changed in the future.</li><li>For <code>MACHINEID</code>, you can append a string of your choice to the configured <code>ID</code>.
The string can only contain letters. The default string is <code>ib</code>.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="building"></a>Building<a aria-hidden="true" tabindex="-1" class="hash-link" href="#building" title="Direct link to heading">#</a></h2><p>Given that you are in the <code>build</code> directory, run:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">bitbake -r ../isoblue.conf console-isoblue-image</span></div></div></div></div></div><p>This command reads in the configuration you set in the <code>isoblue.conf</code> earlier
and use the settings to build an image. This first build usually takes of hours
(it involves a lot of downloading and compiling). <strong>Be patient!</strong></p><p>After a successful build, you should have the following
directory structure for for your <code>deploy</code> directory:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-undefined codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">isoblue-oe</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â””â”€â”€ deploy</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â””â”€â”€ images</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚       â””â”€â”€ apalis-imx6</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â””â”€â”€ ipk</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â”‚   â””â”€â”€ licenses</span></div></div></div></div></div><p><code>apalis-imx6</code> is the processor ISOBlue 2.0 is using. The image should be located
in the <code>apalis-imx6</code> folder. The image file we are looking for should be in the
format of <code>Isoblue2_apalis-imx6_image_2.7b2-YYYYMMDD.tar.bz2</code>. Copy this file
to a directory of your choice and follow the <a href="/docs/sw/flashing">flashing instructions</a>
to load the image onto your hardware.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/ISOBlue/isoblue.github.io/edit/source/website-v2/docs/sw/build.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/hw/hwbuild"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Hardware Assembly</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/sw/flashing"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Flashing an Image Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3klQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link">Prerequisites</a><ul><li><a href="#machine-requirement" class="table-of-contents__link">Machine Requirement</a></li><li><a href="#preparations" class="table-of-contents__link">Preparations</a></li><li><a href="#source-synchronization" class="table-of-contents__link">Source Synchronization</a></li><li><a href="#editing-isoblueconf" class="table-of-contents__link">Editing isoblue.conf</a></li></ul></li><li><a href="#building" class="table-of-contents__link">Building</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs">Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/hw/bom">Hardware</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sw/swbuild">Software</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://groups.google.com/g/isoblue" target="_blank" rel="noopener noreferrer" class="footer__link-item">Google Group</a></li><li class="footer__item"><a href="https://github.com/OATS-Group/isoblue-avena/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Issue Tracker</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/OATS-Group/isoblue-avena" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2020 Open Ag Systems and Technology Center, Purdue University. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.8c87156f.js"></script>
<script src="/runtime~main.76e6e62e.js"></script>
<script src="/main.cd3eda12.js"></script>
<script src="/1.c1636144.js"></script>
<script src="/2.15781dc9.js"></script>
<script src="/3.f369f4cb.js"></script>
<script src="/1be78505.c5340cf9.js"></script>
<script src="/34.32e457ed.js"></script>
<script src="/20ac7829.d91f3221.js"></script>
<script src="/17896441.64a7a8d2.js"></script>
<script src="/8ba70fbd.303dd515.js"></script>
</body>
</html>