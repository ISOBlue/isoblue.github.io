<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.61">
<title data-react-helmet="true">Setting It Up | ISOBlue</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Setting It Up | ISOBlue"><meta data-react-helmet="true" name="description" content="There are a few steps to perform before ISOBlue 2.0 can collect and send data to"><meta data-react-helmet="true" property="og:description" content="There are a few steps to perform before ISOBlue 2.0 can collect and send data to"><meta data-react-helmet="true" property="og:url" content="https://isoblue.org/docs/sw/setup"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://isoblue.org/docs/sw/setup"><link rel="stylesheet" href="/styles.6af30466.css">
<link rel="preload" href="/styles.8c87156f.js" as="script">
<link rel="preload" href="/runtime~main.04360556.js" as="script">
<link rel="preload" href="/main.a345168d.js" as="script">
<link rel="preload" href="/1.c1636144.js" as="script">
<link rel="preload" href="/2.15781dc9.js" as="script">
<link rel="preload" href="/3.f369f4cb.js" as="script">
<link rel="preload" href="/1be78505.c5340cf9.js" as="script">
<link rel="preload" href="/34.32e457ed.js" as="script">
<link rel="preload" href="/20ac7829.d91f3221.js" as="script">
<link rel="preload" href="/17896441.64a7a8d2.js" as="script">
<link rel="preload" href="/66971585.c9423e9b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="isoblue-logo"><strong class="navbar__title">ISOBlue</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/OATS-Group/isoblue-avena" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><a href="https://groups.google.com/g/isoblue" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Google Group</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="isoblue-logo"><strong class="navbar__title">ISOBlue</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/blog/">Blog</a></li><li class="menu__list-item"><a href="https://github.com/OATS-Group/isoblue-avena" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a href="https://groups.google.com/g/isoblue" target="_blank" rel="noopener noreferrer" class="menu__link">Google Group</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Overview</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/">What is an ISOBlue 2.0?</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Hardware</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/hw/bom">Hardware Bill of Materials</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/hw/hwbuild">Hardware Assembly</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Software</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sw/swbuild">Build Instructions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/sw/flashing">Flashing an Image</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/sw/setup">Setting It Up</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Deploy</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/misc/deploy">Deployment</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Data</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/data/data">Public Data</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/data/read">How to Read Data</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Setting It Up</h1></header><div class="markdown"><p>There are a few steps to perform before ISOBlue 2.0 can collect and send data to
the Cloud.  The following sections assume that you have already flashed an
ISOBlue 2.0 image to the assembled hardware. They also serve as a basic
debugging steps for a malfunctioning ISOBlue 2.0.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="notes-on-systemd"></a>Notes on systemd<a aria-hidden="true" tabindex="-1" class="hash-link" href="#notes-on-systemd" title="Direct link to heading">#</a></h2><p>ISOBlue 2.0 manages the scripts and programs using <a href="https://www.freedesktop.org/wiki/Software/systemd/" target="_blank" rel="noopener noreferrer">systemd</a>. You can view
all the services running by using this command:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">root@localhost:~</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># systemctl status</span></div></div></div></div></div><p>You can replace <code>status</code> with <code>enable</code>, <code>disable</code>, <code>start</code>, <code>stop</code>, <code>restart</code>,
etc., plus a service name to trigger different actions on a service.</p><p>You can check the status and view the log of a service by running:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">root@localhost:~</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># journalctl -u name-of-service</span></div></div></div></div></div><p>Now, let&#x27;s dive into configuring your ISOBlue 2.0.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="1-check-internet-connectivity"></a>1. Check Internet Connectivity<a aria-hidden="true" tabindex="-1" class="hash-link" href="#1-check-internet-connectivity" title="Direct link to heading">#</a></h2><p>ISOBlue 2.0 uses <a href="https://www.freedesktop.org/software/libqmi/man/1.8.0/qmicli.1.html" target="_blank" rel="noopener noreferrer">qmicli</a> to setup the Internet connections. The network
device is specified as <code>wwan0</code>. There are two ways to check for Internet
connectivity:</p><ul><li><code>ping</code></li></ul><p>Check if you could get any responses after running <code>ping google.com</code>.</p><ul><li><code>ifconfig</code></li></ul><p>After you run <code>ifconfig</code>, you should be able to see that <code>wwan0</code> is already
associated with an IP address.</p><p>In our testing, sometimes an ISOBlue 2.0 could try multiple IPs and then settle
down to one. This process sometimes takes up to several minutes.</p><p>Once you are certain that your ISOBlue 2.0 has Internet, move on to the next
section.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="in-case-it-doesnt-connect-"></a>In case it doesn&#x27;t connect ...<a aria-hidden="true" tabindex="-1" class="hash-link" href="#in-case-it-doesnt-connect-" title="Direct link to heading">#</a></h3><p>A few things to check:</p><ul><li>Are the antennas installed?</li><li>If the antennas are installed, are all connections (uFl to SMA, SMA to SMA)
tightened?</li><li>Is the SIM card properly inserted?</li><li>If the SIM card is installed, are you certain you have a valid data plan?</li><li>Are you inside or outside? If you are inside, make sure your antennas are
closer to the windows.</li></ul><p>If your answers are yes to the first four of these questions, then there are a
few things to try:</p><ul><li>Run</li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">root@localhost:~</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># udevadm trigger</span></div></div></div></div></div><p>This triggers the udev rule that setup the cellular module to connect to the
Internet. Check using <code>ifconfig</code> to see if this helps.</p><ul><li>If the above doesn&#x27;t help, run</li></ul><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">root@localhost:~</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># qmicli -p -d /dev/cdc-wdm0 --wds-start-network=Broadband \</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  --client-no-release-cid</span></div></div></div></div></div><p>This should return message like <code>Network has started</code>. This means you have
already registered onto your network provider. Then run the following command
to obtain a valid IP:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">root@localhost:~</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># dhclient wwan0</span></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="2-setup-ssh-connections"></a>2. Setup SSH Connections<a aria-hidden="true" tabindex="-1" class="hash-link" href="#2-setup-ssh-connections" title="Direct link to heading">#</a></h2><p><a href="https://www.ssh.com/ssh/" target="_blank" rel="noopener noreferrer">SSH</a> plays a critical role for debugging and data streaming to Cloud in
ISOBlue 2.0. We have provided two default SSH related <code>systemd</code> services:</p><ul><li><em>ssh-forward.service</em></li></ul><p>This service performs SSH port forwarding from your ISOBlue 2.0&#x27;s local SSH port
to a port on a remote machine for debugging purposes. By default, the remote
machine username and domain is <code>isoblue2@vip4.ecn.purdue.edu</code>.</p><ul><li><em>tunnel.service</em></li></ul><p>This service provides SSH tunneling for mirroring Kafka clusters between ISOBlue
2.0 and the remote cluster. By default, the remote cluster username and domain is
<code>yang@cloudradio39.ecn.purdue.edu</code>.</p><p>Both services are located in <code>/lib/systemd/system</code>. You can change the remote
machine and cluster domains to your custom domains. You can use one remote
machine for both debugging as well as receiving Kafka messages. The following
steps assume that you have one debugging machine and one cluster machine that
has Kafka running.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="generate-ssh-keys"></a>Generate SSH Keys<a aria-hidden="true" tabindex="-1" class="hash-link" href="#generate-ssh-keys" title="Direct link to heading">#</a></h3><p>Run the following command to generate a set of SSH keys (<strong>use default location
and use no password</strong>):</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">root@localhost:~</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ssh-keygen</span></div></div></div></div></div><p>Once the keys are generated, they will be located in <code>~/.ssh</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="setup-ssh-forward"></a>Setup SSH Forward<a aria-hidden="true" tabindex="-1" class="hash-link" href="#setup-ssh-forward" title="Direct link to heading">#</a></h3><p>Add the content of <code>~/.ssh/id_rsa.pub</code> from ISOBlue 2.0 to your remote debugging
machine&#x27;s <code>~/.ssh/authorized_keys</code>.</p><p>Then you will run this on ISOBlue:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">root@localhost:~</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ssh -NR *:SSHPORT:localhost:22 username@domain1</span></div></div></div></div></div><p>You will be prompted to type yes or no. Type yes to add the remote host to your
<code>known_hosts</code>. You only need to do it manually once.</p><p>Note: <code>SSHPORT</code> is specified when you are building your image.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="setup-ssh-tunnel"></a>Setup SSH Tunnel<a aria-hidden="true" tabindex="-1" class="hash-link" href="#setup-ssh-tunnel" title="Direct link to heading">#</a></h3><p>Add the content of <code>~/.ssh/id_rsa.pub</code> on ISOBlue 2.0 to your remote machine&#x27;s
<code>~/.ssh/authorized_keys</code>.</p><p>Then you will run this on ISOBlue:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">root@localhost:~/</span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># ssh -NL localhost:BROKERPORT:domain2:9092 -L \</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  localhost:ZKPORT:domain2:2181 </span><span class="token punctuation" style="color:rgb(199, 146, 234)">\</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  username@domain2</span></div></div></div></div></div><p>You will be prompted to type yes or no. Type yes to add the remote host to your
<code>known_hosts</code>. You only need to do it manually once.</p><p>Note: <code>BROKERPORT</code>, <code>ZKPORT</code> are also specified when you build your image.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="3-verify-running-services"></a>3. Verify Running Services<a aria-hidden="true" tabindex="-1" class="hash-link" href="#3-verify-running-services" title="Direct link to heading">#</a></h2><p>There are a few key <code>systemd</code> services that will be running after flashing
process is completed as well as after each boot.</p><ul><li><em>gpsd.service</em></li></ul><p>This service connects to the USB GPS module and enables clients to fetch GPS
related data. When you use <code>journalctl -u gpsd</code> to check its logs, you usually
see useful on whether this service is working or not. Typically, if it is
working, log message <code>time to report a fix ...</code> will occur once per second.</p><ul><li><em>broker.service</em> and <em>zookeeper.service</em></li></ul><p>The combination of these two services is the <strong>heart</strong> of ISOBlue 2.0. <strong>No
broker/zookeeper, no logging.</strong> The <em>broker</em> and <em>zookeeper</em> bring up and
handle the overall logging of CAN messages, GPS data and other debugging data.
We uses the prepackaged broker and zookeeper binaries provided by the <a href="https://kafka.apache.org/" target="_blank" rel="noopener noreferrer">Apache
Kafka</a> project. You can also use <code>journalctl</code> to check the statuses of these
two services. The settings for <em>broker</em> and <em>zookeeper</em> are located in
<code>/opt/kafka/config</code>. The details for the settings can be found <a href="https://kafka.apache.org/documentation/#configuration" target="_blank" rel="noopener noreferrer">here</a>.</p><p>A quick way to verify that the two services  are running is to check the folders
in <code>kafka-logs</code> in <code>/media/sda1</code>. Within this directory, you will see a
structure that is familiar to this:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">kafka-logs</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â””â”€â”€ remote-0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â””â”€â”€ tra-0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â””â”€â”€ imp-0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â””â”€â”€ gps-0</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">â””â”€â”€ </span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain">.</span></div></div></div></div></div><p>The folder name <code>xxxx-0</code> represents the Kafka topic name and within each of these
folders, you should be able see things like this after you run <code>ls -alh</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-shell codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-rw-r-- </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> root root  84K Nov </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 00:13 00000000000011544725.index</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-r--r-- </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> root root  43M Nov </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 00:14 00000000000011544725.log</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">-rw-rw-r-- </span><span class="token number" style="color:rgb(247, 140, 108)">1</span><span class="token plain"> root root  74K Nov </span><span class="token number" style="color:rgb(247, 140, 108)">30</span><span class="token plain"> 00:14 00000000000011544725.timeindex</span></div></div></div></div></div><p>The file ends with <code>.log</code> is the Kafka log that stores all the collected data.
You can keep checking whether the size of the file changes or not. This will
quickly tell you statuses of the <em>broker</em>, <em>zookeeper</em> and other logging
services.</p><ul><li><em>mirror.service</em></li></ul><p>This service uses the SSH tunnel setup to forward <code>debug</code> and <code>remote</code> topic
Kafka message to a remote Kafka cluster residing in an OATS cluster. It requires
network connectivity for this service to work.</p><blockquote><p>Important: make sure that the Kafka broker you&#x27;d like to mirror to is setup correctly. </p><p>Uncomment and set <code>advertised.listeners</code> to <code>PLAINTEXT://&lt;broker_host_IP:9092&gt;</code> in your Kafkaâ€™s <code>server.properties</code> config file. By default the ISOBlue will try to resolve the server&#x27;s <em>hostname</em> on which the Kafka broker resides. This will fail in most cases and prevent the mirror service from functioning correctly. See <a href="https://rmoff.net/2018/08/02/kafka-listeners-explained/" target="_blank" rel="noopener noreferrer">Kafka Listeners - Explained</a> for an in-depth discussion about this topic. </p></blockquote><ul><li><em>get-pgns.service</em></li></ul><p>This service runs <code>get_pgns.sh</code> script located in <code>/opt/bin</code>. The script fetches
a file that contains the list of PGNs and replaces the <code>/opt/pgns</code> every 5
seconds. This file will be later parsed into a fitler by a program that logs CAN
data based on this filter.</p><p>You can change the remote file location in <code>get_pgns.sh</code> as you wish. It also
requires a network connectivity to work.</p><ul><li><em>can-watchdog.service</em></li></ul><p>This service watches the presence of CAN activities. It is <strong>not</strong> enabled by
default. You can keep it disabled when you are configuring an ISOBlue 2.0 for
the first time. Remember to enable it once you are done setting up the ISOBlue.
Otherwise, the device will keep running until you cut the power (or the power
runs out).</p><p>You can also check the statuses and perform actions on all the other ISOBlue 2.0
specified services. The name and all <code>systemd</code> service file can be found
<a href="https://github.com/ISOBlue/meta-isoblue/tree/master/recipes-core/systemd/systemd" target="_blank" rel="noopener noreferrer">here</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="ok-what-now"></a>Ok, What Now?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#ok-what-now" title="Direct link to heading">#</a></h2><p>At this point, you should have a fully functional ISOBlue 2.0. Can you see your
ISOBlue 2.0 showing up on <a href="https://github.com/OpenATK/ISOBlueApp" target="_blank" rel="noopener noreferrer">ISOBlueApp</a>?</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/ISOBlue/isoblue.github.io/edit/master/v2-website/docs/sw/setup.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/sw/flashing"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Flashing an Image</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/misc/deploy"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Deployment Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3klQ"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#notes-on-systemd" class="table-of-contents__link">Notes on systemd</a></li><li><a href="#1-check-internet-connectivity" class="table-of-contents__link">1. Check Internet Connectivity</a><ul><li><a href="#in-case-it-doesnt-connect-" class="table-of-contents__link">In case it doesn&#39;t connect ...</a></li></ul></li><li><a href="#2-setup-ssh-connections" class="table-of-contents__link">2. Setup SSH Connections</a><ul><li><a href="#generate-ssh-keys" class="table-of-contents__link">Generate SSH Keys</a></li><li><a href="#setup-ssh-forward" class="table-of-contents__link">Setup SSH Forward</a></li><li><a href="#setup-ssh-tunnel" class="table-of-contents__link">Setup SSH Tunnel</a></li></ul></li><li><a href="#3-verify-running-services" class="table-of-contents__link">3. Verify Running Services</a></li><li><a href="#ok-what-now" class="table-of-contents__link">Ok, What Now?</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs">Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/hw/bom">Hardware</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sw/swbuild">Software</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://groups.google.com/g/isoblue" target="_blank" rel="noopener noreferrer" class="footer__link-item">Google Group</a></li><li class="footer__item"><a href="https://github.com/OATS-Group/isoblue-avena/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Issue Tracker</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/OATS-Group/isoblue-avena" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2020 Open Ag Systems and Technology Center, Purdue University. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.8c87156f.js"></script>
<script src="/runtime~main.04360556.js"></script>
<script src="/main.a345168d.js"></script>
<script src="/1.c1636144.js"></script>
<script src="/2.15781dc9.js"></script>
<script src="/3.f369f4cb.js"></script>
<script src="/1be78505.c5340cf9.js"></script>
<script src="/34.32e457ed.js"></script>
<script src="/20ac7829.d91f3221.js"></script>
<script src="/17896441.64a7a8d2.js"></script>
<script src="/66971585.c9423e9b.js"></script>
</body>
</html>