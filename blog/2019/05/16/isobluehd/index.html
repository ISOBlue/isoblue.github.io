<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.61">
<title data-react-helmet="true">Embrace Yourself | ISOBlue</title><meta data-react-helmet="true" property="og:title" content="Embrace Yourself | ISOBlue"><meta data-react-helmet="true" name="description" content="Embrace yourself, ISOBlue HD is coming."><meta data-react-helmet="true" property="og:description" content="Embrace yourself, ISOBlue HD is coming."><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link rel="stylesheet" href="/styles.6af30466.css">
<link rel="preload" href="/styles.8c87156f.js" as="script">
<link rel="preload" href="/runtime~main.04360556.js" as="script">
<link rel="preload" href="/main.a345168d.js" as="script">
<link rel="preload" href="/1.c1636144.js" as="script">
<link rel="preload" href="/2.15781dc9.js" as="script">
<link rel="preload" href="/3.f369f4cb.js" as="script">
<link rel="preload" href="/ccc49370.4b2f9c5b.js" as="script">
<link rel="preload" href="/77b4bab2.3ca4a0f4.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="isoblue-logo"><strong class="navbar__title">ISOBlue</strong></a><a class="navbar__item navbar__link" href="/docs/">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog/">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/OATS-Group/isoblue-avena" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><a href="https://groups.google.com/g/isoblue" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Google Group</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.png" alt="isoblue-logo"><strong class="navbar__title">ISOBlue</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">Docs</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog/">Blog</a></li><li class="menu__list-item"><a href="https://github.com/OATS-Group/isoblue-avena" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a href="https://groups.google.com/g/isoblue" target="_blank" rel="noopener noreferrer" class="menu__link">Google Group</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--8 col--offset-2"><article><header><h1 class="margin-bottom--sm blogPostTitle_1mse">Embrace Yourself</h1><div class="margin-vert--md"><time datetime="2019-05-16T00:00:00.000Z" class="blogPostDate_3bQP">May 16, 2019  Â· 3 min read</time></div><div class="avatar margin-vert--md"><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/wang701" target="_blank" rel="noreferrer noopener">Yang Wang</a></h4><small class="avatar__subtitle"></small></div></div></header><section class="markdown"><p><strong>Embrace yourself, ISOBlue HD is coming.</strong></p><p>For one of the <a href="https://engineering.purdue.edu/VADL/publications/He_mipr_19.pdf" target="_blank" rel="noopener noreferrer">projects</a> in <a href="https://oatscenter.org/" target="_blank" rel="noopener noreferrer">OATS</a>, we need to improve a multi-cameras
logging system that would record the video streams of a combine&#x27;s header actions
during harvest operations. The current method involves a human to kick off the
video logging process.</p><p>One of the primary goals of using ISOBlue as a sensor platform is to eliminate
the need of human interventions in sensing and collecting different types of
agricultural machinery data. Therefore, this question comes in naturally:</p><p>&quot;Can we use an ISOBlue to log videos?&quot;</p><p>The answer is <strong>yes</strong>.</p><p>Apart from the existing hardware that enable an ISOBlue to collect ISOBUS
data from tractors and combines, we added a few things:</p><ul><li>Internet Protocol (IP) cameras from <a href="https://store.ui.com/products/unifi-video-camera-g3" target="_blank" rel="noopener noreferrer">Ubiquiti</a> and <a href="https://www.amazon.com/Geovision-GV-FER12203-Fisheye-Rugged-Camera/dp/B019YIXWI0" target="_blank" rel="noopener noreferrer">GeoVision</a> that
offer RTSP streams</li><li>A Power-Over-Ethernet (PoE) switch from <a href="http://www.veracityglobal.com/products/networked-video-integration-devices/camswitch-mobile.aspx" target="_blank" rel="noopener noreferrer">Veracity</a></li><li>A custom-made PCB that relays 12VDC with the toggles of an external signal</li><li>A 4TB USB hard drive</li></ul><p>The following figure gives an overview of the hardware connections:</p><p><img alt="Connection diagram" src="/assets/images/isobluehd_conn_diag-b789dfe62e8ec37d130a71ce6d08715a.png"></p><p>For testing purpose, a PSU was included to emulate the power (12VDC) coming from
a typical machine. The 12VDC was splited into two: one for supplying the ISOBlue
and the other for supplying custom relay board we made.</p><p>The relay board controlled the power to the PoE switch. Shortly after the
ISOBlue booted, it toggled the GPIO signal to high. The high signal triggered a
FET on the relay board to be turned on. It further activated the relay to allow
the power from the PSU to flow through the board. The output from the relay
board turned the PoE switch on. Finally, the PoE switch supplied power to all of
the IP cameras.</p><p>After everything was powered up, ISOBlue automatically assigned IP addresses to
itself as well as the IP cameras by using <code>dnsmasq</code> as a DHCP server. For video
logging, <code>systemd</code> services that utilized <code>ffmpeg</code> commands obtained the RTSP
streams from each camera and saved them onto an external hard drive.</p><p><img alt="Test camera gigs" src="/assets/images/test_cameras-a2729d3acaa13abb5005336ab74c64b0.png"></p><p>A litte bit of fun: with ISOBlue&#x27;s LTE connectivity, we port-forwarded three
cameras&#x27; RTSP ports to local ports on a desktop in our lab. ISOBlue was
essentially broadcasting the streams to our desktop. By using a common video
player like <code>VLC player</code>, we were able to watch live streams of the three
cameras simultaneoulsy as shown in the picture below:</p><p><img alt="Live view" src="/assets/images/live_views-3d9bf2d68b9adb33eb9228a93ca839b3.png"></p><p>Now we could watch live streams from the cameras when the system is deployed in
the field to check out what the machine is doing (as long as there is LTE
connectivity)!</p><p>We also tested the scenario of the ISOBlue going to suspend and waking up. For
suspends, The GPIO pin was pulled down accordingly. As a result, the relay board
was not outputting any more power; the PoE switch was off, and the cameras were
also off. After the ISOBlue woke up, GPIO pulled to high, relay activated, PoE
switch on, cameras on, and ISOBlue restarted video logging sessions.</p><p>The first round of tests seemed to be good for ISOBlue HD. We still need to work
on the mounts for cameras as well as a new enclosure for putting everything
together. So stay tuned for updates and pictures!</p></section></article><div><a href="https://github.com/ISOBlue/isoblue.github.io/edit/master/v2-website/blog/blog/2019-05-16-isobluehd.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/2019/05/21/can-logging"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Â« ISOBlue 2.0 Explained (Part 1): CAN Logging</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/2018/04/04/dpac"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">DPAC Experiment Â»</div></a></div></nav></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs">Overview</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/hw/bom">Hardware</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/sw/swbuild">Software</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://groups.google.com/g/isoblue" target="_blank" rel="noopener noreferrer" class="footer__link-item">Google Group</a></li><li class="footer__item"><a href="https://github.com/OATS-Group/isoblue-avena/issues" target="_blank" rel="noopener noreferrer" class="footer__link-item">Issue Tracker</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/OATS-Group/isoblue-avena" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright Â© 2020 Open Ag Systems and Technology Center, Purdue University. Built with Docusaurus.</div></div></div></footer></div>
<script src="/styles.8c87156f.js"></script>
<script src="/runtime~main.04360556.js"></script>
<script src="/main.a345168d.js"></script>
<script src="/1.c1636144.js"></script>
<script src="/2.15781dc9.js"></script>
<script src="/3.f369f4cb.js"></script>
<script src="/ccc49370.4b2f9c5b.js"></script>
<script src="/77b4bab2.3ca4a0f4.js"></script>
</body>
</html>